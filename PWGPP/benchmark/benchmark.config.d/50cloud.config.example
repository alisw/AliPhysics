#
# 50cloud -- by Dario Berzano <dario.berzano@cern.ch>
#
# Appended to the main benchmark.config file.
#
# Cloud configuration for the ALICE Release Validation.
#

# Override benchmark.config:
#  - make makeflow more verbose
#  - run max 300 jobs at the same time (default is 100)
makeflowOptions="-T condor -d all -J 300"

# Override benchmark.config: use temporary dir instead of output dir in some cases
reconstructInTemporaryDir=1

# EC2 credentials (must export)
export EC2_ACCESS_KEY='your_ec2_access_key'
export EC2_SECRET_KEY='your_ec2_secret_key'

# EC2 server. CERN Agile server in the example
export EC2_URL='http://openstack.cern.ch:8773/services/Cloud'

# user-data for the CernVM head node, as obtained from CernVM Online
cloudUserData=$(cat <<_EoF_
[amiconfig]
plugins=cernvm
[cernvm]
contextualization_key=f962a8f825994aa780db907f6ba6f2ec:__password_to_the_context__
[ucernvm-begin]
resize_rootfs=true
cvmfs_branch=cernvm-prod.cern.ch
cvmfs_tag=cernvm-system-3.3.0.3
[ucernvm-end]
_EoF_
)

# Image ID (EC2 AMI) of uCernVM on your cloud
cloudImageId='ami-00000298'

# Keypair name to associate to your VM for SSH access.
# Leave blank for automatically generating one!
cloudKeyName=''

# Private key file corresponding to the keypair.
# Ignored if cloudKeyName=''
#cloudKeyFile='/path/to/private/key'

# Instance type of the node
cloudProfile='m1.large'

# Unprivileged user name running the validation.
# Note: it must be possible to run:
#   ssh $cloudUserName@$vmAddress -i $cloudKeyFile
# i.e. to do passwordless authentication using the above key with this user
cloudUserName='alicerelval'

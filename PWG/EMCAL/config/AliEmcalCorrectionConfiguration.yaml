configurationName: "Default configuration"     # Optional - Simply for user convenience
period: ""                                     # Must match the value given to the correction add task
pass: ""                                       # Attempts to automatically retrieve the pass if not specified
inputObjects:
    cells:
        # Not sure if this makes sense or is straightforward. More on this soon.
        cells0:
            branchName: "usedefault"
            #branchName: "emcalCellsNew"
            #branchToCopy: "usedefault"
        cells1:
            branchName: "usedefault"
            embedding: true
    clusterContainers:
        baseClusterContainer:
            # Sets the branch name
            #branchName: "sharedParameters:clusterBranchName"
            #branchName: "usedefault"
            branchName: "caloClusters"
            # Takes all default cuts!
        baseClusterContainer_1:
            # Sets the branch name
            #branchName: "sharedParameters:clusterBranchName"
            #branchName: "usedefault"
            #branchName: "caloClusters"
            # We should be able to generically set minE and minPt for cluster or track containers
            minE: 0.0                        # Formerly clusterEMin
            minPt: 0.0                       # Formerly clusterPtMin
        baseClusterContainer_2:
            # Sets the branch name
            #branchName: "sharedParameters:clusterBranchName"
            #branchName: "usedefault"
            #branchName: "caloClusters"
            # We should be able to generically set minE and minPt for cluster or track containers
            minE: 0.0                        # Formerly clusterEMin
            minPt: 0.0                       # Formerly clusterPtMin
            # We will handle this particularly for cluster containers
            clusNonLinCorrEnergyCut: 0.15        # formerly "minPt" and then clusterNonLinCorrEnergyMin
    trackContainers:
        # The user can select the name of each container
        trackContName1:
            # Sets the branch name
            #branchName: "sharedParameters:trackBranchName"
            #branchName: "usedefault"
            branchName: "tracks"
            # Takes all default cuts!
        # The names don't need to correspond to any particular scheme
        trackContainerName2:
            # Sets the branch name
            #branchName: "sharedParameters:trackBranchName"
            #branchName: "usedefault"
            branchName: "tracks"
            # We should be able to generically set minE and minPt for cluster or track containers
            minPt: 0.15                    # formerly "minPt"
            # We need to think about what options we want to provide
            #aodFilterBits: [16, 1]
            #aodFilterBits:
            #    - 16
            #    - 1
            trackFilterType: kHybridTracks
sharedParameters:
    # These are parameters shared by multiple tasks
    clusterBranchName: "usedefault"
    trackBranchName: "usedefault"
CellEnergy:
    enabled: true
    createHistos: true
    cellsNames:
        - cells0
CellBadChannel:
    enabled: true
    createHistos: true
    cellsNames:
        - cells0
CellTimeCalib:
    enabled: true
    createHistos: true
    cellsNames:
        - cells0
Clusterizer:
    enabled: true
    createHistos: true
    clusterizer: kClusterizerv2
    cellE: 0.05
    seedE: 0.1
    cellTimeMin: -1                    # Min cell time (s)
    cellTimeMax: +1                    # Max cell time (s)
    clusterTimeLength: 1               # Maximum time difference between the digits inside EMC cluster (s)
    w0: 4.5
    recalDistToBadChannels: false
    recalShowerShape: false
    remapMcAod: false                  # Switch for the remaping for the MC labels in AOD productions
    enableFracEMCRecalc: false         # Enables the recalculation of the MC labels including the fractional energy on cell level
    removeNMCGenerators: 0             # set number of accepted MC generators input (only for enableFracEMCRecalc=1)
    enableMCGenRemovTrack: true        # apply the MC generators rejection also for track matching
    removeMCGen1: ""                   # name of generator input to be accepted
    removeMCGen2: ""                   # name of generator input to be accepted
    diffEAggregation: 0.03             # difference E in aggregation of cells (i.e. stop aggregation if E_{new} > E_{prev} + diffEAggregation)
    cellsNames:
        - cells0
    clusterContainersNames:
        - baseClusterContainer
        #- clusterContainer0
    # Should this be specified by a namespace instead? It would be like sharedParameters
    #clusterContainerNames: "inputObjects:clusterContainer0"
ClusterExotics:
    enabled: true
    createHistos: true
    clusterContainersNames:
        - baseClusterContainer_1
        #- clusterContainer1
    cellsNames:
        - cells0
ClusterNonLinearity:
    enabled: true
    createHistos: true
    nonLinFunct: kBeamTestCorrectedv3
    clusterContainersNames:
        - baseClusterContainer_1
        #- clusterContainer1
    cellsNames:
        - cells0
ClusterTrackMatcher:
    enabled: true
    createHistos: true
    maxDist: 0.1
    updateClusters: true
    updateTracks: true
    clusterContainersNames:
        - baseClusterContainer_2
        #- clusterContainer2
    trackContainersNames:
        - trackContName1
    cellsNames:
        - cells0
ClusterHadronicCorrection:
    enabled: true
    createHistos: true
    phiMatch: 0.030
    etaMatch: 0.015
    hadCorr: 2.
    Eexcl: 0
    doTrackClus: true
    clusterContainersNames:
        - baseClusterContainer_2
        #- clusterContainer2
    trackContainersNames:
        - trackContainerName2
    cellsNames:
        - cells0
executionOrder:
    - CellEnergy
    - CellBadChannel
    - CellTimeCalib
    - Clusterizer
    - ClusterExotics
    - ClusterNonLinearity
    - ClusterTrackMatcher
    - ClusterHadronicCorrection
